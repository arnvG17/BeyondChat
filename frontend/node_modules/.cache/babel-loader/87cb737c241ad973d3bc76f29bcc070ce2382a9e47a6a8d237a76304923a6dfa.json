{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arnv\\\\BeyondChat\\\\frontend\\\\src\\\\pages\\\\ArticleList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ArticleList = () => {\n  _s();\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const fetchArticles = async () => {\n    try {\n      const response = await api.get('/articles/all');\n      // Backend returns { count: ..., articles: [...] }\n      const allArticles = response.data.articles || [];\n\n      // Deduplicate by URL\n      const uniqueArticles = [];\n      const seenUrls = new Set();\n      for (const article of allArticles) {\n        if (article.url && !seenUrls.has(article.url)) {\n          seenUrls.add(article.url);\n          uniqueArticles.push(article);\n        }\n      }\n      setArticles(uniqueArticles);\n    } catch (error) {\n      console.error(\"Failed to fetch articles\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchArticles();\n  }, []);\n  const handleScrape = async () => {\n    const confirm = window.confirm(\"Start scraping? This might take a while.\");\n    if (!confirm) return;\n    try {\n      alert(\"Scraping started... please wait.\");\n      await api.post('/articles/scrape');\n      alert(\"Scraping complete! Refreshing list.\");\n      fetchArticles();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Scraping failed\", error);\n      alert(\"Scraping failed: \" + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message));\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Articles (\", articles.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleScrape,\n        style: {\n          padding: '10px 20px',\n          fontSize: '16px',\n          cursor: 'pointer',\n          background: '#28a745',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Start Scraper\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: '20px',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))'\n      },\n      children: articles.map(article => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ddd',\n          padding: '15px',\n          borderRadius: '8px'\n        },\n        children: [article.image && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: article.image,\n          alt: article.title,\n          style: {\n            width: '100%',\n            height: '200px',\n            objectFit: 'cover',\n            borderRadius: '4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '10px 0'\n          },\n          children: article.title || 'Untitled'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: article.url,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          style: {\n            display: 'block',\n            marginBottom: '10px',\n            color: 'blue',\n            textDecoration: 'none'\n          },\n          children: article.url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(`/article/${article.id}`),\n          style: {\n            padding: '8px 16px',\n            cursor: 'pointer',\n            background: '#f0f0f0',\n            border: '1px solid #ccc',\n            borderRadius: '4px'\n          },\n          children: \"Open\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this)]\n      }, article.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(ArticleList, \"YHdtAtOGnXfn5rzBasa4nbMMIsg=\", false, function () {\n  return [useNavigate];\n});\n_c = ArticleList;\nexport default ArticleList;\nvar _c;\n$RefreshReg$(_c, \"ArticleList\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","api","jsxDEV","_jsxDEV","ArticleList","_s","articles","setArticles","loading","setLoading","navigate","fetchArticles","response","get","allArticles","data","uniqueArticles","seenUrls","Set","article","url","has","add","push","error","console","handleScrape","confirm","window","alert","post","_error$response","_error$response$data","message","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","fontFamily","display","alignItems","justifyContent","length","onClick","fontSize","cursor","background","color","border","borderRadius","gap","gridTemplateColumns","map","image","src","alt","title","width","height","objectFit","margin","href","target","rel","marginBottom","textDecoration","id","_c","$RefreshReg$"],"sources":["C:/Users/Arnv/BeyondChat/frontend/src/pages/ArticleList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\n\r\nconst ArticleList = () => {\r\n    const [articles, setArticles] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const navigate = useNavigate();\r\n\r\n    const fetchArticles = async () => {\r\n        try {\r\n            const response = await api.get('/articles/all');\r\n            // Backend returns { count: ..., articles: [...] }\r\n            const allArticles = response.data.articles || [];\r\n\r\n            // Deduplicate by URL\r\n            const uniqueArticles = [];\r\n            const seenUrls = new Set();\r\n\r\n            for (const article of allArticles) {\r\n                if (article.url && !seenUrls.has(article.url)) {\r\n                    seenUrls.add(article.url);\r\n                    uniqueArticles.push(article);\r\n                }\r\n            }\r\n\r\n            setArticles(uniqueArticles);\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch articles\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchArticles();\r\n    }, []);\r\n\r\n    const handleScrape = async () => {\r\n        const confirm = window.confirm(\"Start scraping? This might take a while.\");\r\n        if (!confirm) return;\r\n\r\n        try {\r\n            alert(\"Scraping started... please wait.\");\r\n            await api.post('/articles/scrape');\r\n            alert(\"Scraping complete! Refreshing list.\");\r\n            fetchArticles();\r\n        } catch (error) {\r\n            console.error(\"Scraping failed\", error);\r\n            alert(\"Scraping failed: \" + (error.response?.data?.message || error.message));\r\n        }\r\n    };\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n\r\n    return (\r\n        <div style={{ padding: '20px', fontFamily: 'sans-serif' }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                <h1>Articles ({articles.length})</h1>\r\n                <button\r\n                    onClick={handleScrape}\r\n                    style={{\r\n                        padding: '10px 20px',\r\n                        fontSize: '16px',\r\n                        cursor: 'pointer',\r\n                        background: '#28a745',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '4px'\r\n                    }}\r\n                >\r\n                    Start Scraper\r\n                </button>\r\n            </div>\r\n            <div style={{ display: 'grid', gap: '20px', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))' }}>\r\n                {articles.map((article) => (\r\n                    <div key={article.id} style={{ border: '1px solid #ddd', padding: '15px', borderRadius: '8px' }}>\r\n                        {article.image && (\r\n                            <img\r\n                                src={article.image}\r\n                                alt={article.title}\r\n                                style={{ width: '100%', height: '200px', objectFit: 'cover', borderRadius: '4px' }}\r\n                            />\r\n                        )}\r\n                        <h3 style={{ margin: '10px 0' }}>{article.title || 'Untitled'}</h3>\r\n                        <a\r\n                            href={article.url}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            style={{ display: 'block', marginBottom: '10px', color: 'blue', textDecoration: 'none' }}\r\n                        >\r\n                            {article.url}\r\n                        </a>\r\n                        <button\r\n                            onClick={() => navigate(`/article/${article.id}`)}\r\n                            style={{ padding: '8px 16px', cursor: 'pointer', background: '#f0f0f0', border: '1px solid #ccc', borderRadius: '4px' }}\r\n                        >\r\n                            Open\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ArticleList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}